<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <a href="/">
          <span>All User</span>
        </a>
      </div>
      <form class="p-2" action="/useradd" method="post">
        <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Name</label>
            <input name="name" type="name" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
            
          </div>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input name="email" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Mobile No.</label>
          <input name="mobile" type="number" class="form-control" id="exampleInputPassword1">
        </div>
        
       
        <button id="btn" type="submit" class="btn btn-primary">Submit</button>
      </form>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
      <script>
        function ValidateEmail(mail) 
{
 if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
  {
    return (true)
  }
    alert("You have entered an invalid email address!")
    return (false)
}


function checkphone(num){
  var phoneNumber = num;
            var filter = /^((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$/;

            if (filter.test(phoneNumber)) {
              if(phoneNumber.toString().length===10){
                   var validate = true;
              } else {
                  alert('Please put 10  digit mobile number');
                  var validate = false;
              }
            }
            else {
              alert('Not a valid number');
              var validate = false;
            }

         if(validate){
          console.log("okay")
        }
}
  //  document.querySelector("#btn").addEventListener("click",function(){
  //   var num= document.querySelector("#exampleInputPassword1").value;
  //   var mail= document.querySelector("#exampleInputEmail1").value;
  //   checkphone(num);
  //   ValidateEmail(mail);
  //  })
//   function fun(){
//     var num= document.querySelector("#exampleInputPassword1").value;
//     var mail= document.querySelector("#exampleInputEmail1").value;
  
   
//       setTimeout(() => {
        
//     checkphone(num);
//     ValidateEmail(mail);
        
// }, 10000);
    
    
  
  // }
  // fun();
  let timer;
  var num= document.querySelector("#exampleInputPassword1").value;
  document.querySelector("#exampleInputPassword1").addEventListener("input",function (e) {
  // Clears any outstanding timer
  clearTimeout(timer);
  // Sets new timer that may or may not get cleared
  timer = setTimeout(() => {
    checkphone(num)
  }, 4000);
});
var mail= document.querySelector("#exampleInputEmail1").value;
document.querySelector("#exampleInputEmail1").addEventListener("input",function (e) {
  // Clears any outstanding timer
  clearTimeout(timer);
  // Sets new timer that may or may not get cleared
  timer = setTimeout(() => {
    ValidateEmail(mail)
  }, 4000);
});
      </script>
</body>
</html>